<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>Archives: 2015/5 | billcamel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="billcamel">
  
  
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="billcamel">
<meta property="og:url" content="http://billcamel.github.io/archives/2015/05/">
<meta property="og:site_name" content="billcamel">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="billcamel">
<meta name="twitter:description">

  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">billcamel</a></h1>
    <p><a href="/">quantlab</a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/about">About</a></li>
      
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content">


<h2 class="archives-title"><span>2015</span></h2>



  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/05/03/R求解投资组合有效前沿/">
  <time datetime="2015-05-03T07:48:50.000Z">
    May 3 2015
  </time>
</a>
    
    
  
    <h1 class="title"><a href="/2015/05/03/R求解投资组合有效前沿/">R求解投资组合有效前沿</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>一直想学习一下金融方面的数据挖掘技术，但是对金融理论非常匮乏，所以开始从最基础的“现代金融理论”学起。作为现代金融理论奠基的马科维茨理论当然是必须要好好研究一下的，为了更好的掌握理论，下面就尝试用R进行”均值方差投资组合“有效前沿求解。</p>
<h2 id="用到的知识">用到的知识</h2>
<ul>
<li><p><strong>二次规划（Quadratic Programming）</strong></p>
<p>  二次规划是非线性规划中的一类特殊数学规划问题，在很多方面都有应用，如投资组合、约束最小二乘问题的求解、序列二次规划在非线性优化问题中应用等。在过去的几十年里，二次规划已经成为运筹学、经济数学、管理科学、系统分析和组合优化科学的基本方法。</p>
<p>  二次规划问题可以以下形式来描述：<br>  min <img src="http://7xivxc.com1.z0.glb.clouddn.com/qp.jpg" alt=""></p>
<p>  受到一个或更多如下型式的限制条件:<br>  <img src="http://7xivxc.com1.z0.glb.clouddn.com/con1.jpg" alt=""><br>  <img src="http://7xivxc.com1.z0.glb.clouddn.com/con2.jpg" alt=""></p>
<p>  在R中用quadprog包中的solve.QP来求解二次规划问题。</p>
<p>  函数：solve.QP(Dmat, dvec, Amat, bvec, meq=0, factorized=FALSE)<br>  <a href="http://cran.r-project.org/web/packages/quadprog/quadprog.pdf" target="_blank" rel="external">详细描述</a></p>
</li>
<li><p><strong>马科维茨投资组合理论</strong><br>  马科维茨资产组合理论中的最优化资产组合必须符合以下条件之一：</p>
<ul>
<li>1 在相同预期收益率下，风险最小，即var(ω’r) = ω‘∑ω 达到最小。</li>
<li><p>2 在相同风险下，预期收益率最大,即max(w’μ)达到最大。<br><em>其中w表示各个风险资产的权重向量</em><br><em>μ表示各个风险资产的期望收益率向量</em>     </p>
<p>根据上面的条件，最优化资产组合求解可以转化成对min(f(x)) = ω‘∑ω - w’μ 的二次规划求解问题。通过求解min(f(x))可以得到一组风险资产权重向量w。如果给定一个风险因子0&lt;p&lt;1,通过求解 min(f(x)) = ω‘∑ω - pw’μ,我们可以得到多组投资组合，这些投资组合组成的曲线就是投资组合“有效前沿”。</p>
</li>
</ul>
</li>
</ul>
<h2 id="准备数据">准备数据</h2>
<p>使用quantmod包获取股票数据非常方便，直接上代码。<br>获取5个数据：”腾讯”,”金山”,”中国移动”,”恒生指数”,”招商银行”。</p>
<pre><code>library(quantmod)
stocks = c(<span class="string">"0700.hk"</span>, <span class="string">"3888.hk"</span>,<span class="string">"0941.hk"</span>,<span class="string">"^HSI"</span>,<span class="string">"3968.hk"</span>)
stockNames = c(<span class="string">"腾讯"</span>,<span class="string">"金山"</span>,<span class="string">"中国移动"</span>,<span class="string">"恒生指数"</span>,<span class="string">"招商银行"</span>)

getMyStocksData &lt;- <span class="function"><span class="keyword">function</span><span class="params">(stocks = c("")</span></span>){
  stocksdata = list()
  <span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">1</span>:length(stocks)){
    stock = sprintf(<span class="string">'s%s'</span>,stocks[i])
    <span class="built_in">print</span>(paste(<span class="string">"beigin get :"</span>, stock))
    stocksdata<span class="string">[[stock]]</span> &lt;- getSymbols(stocks[i],from = <span class="string">"2014-06-01"</span>,to = Sys.Date(),src = <span class="string">"yahoo"</span>,auto.assign=FALSE)
    <span class="built_in">print</span>(paste(<span class="string">"end get :"</span>, stock))
  }
  # 对齐日期
  <span class="keyword">if</span>( length(stocksdata) &gt;= <span class="number">2</span>){
    ids &lt;- as.character(index(stocksdata<span class="string">[[1]]</span>))
    <span class="keyword">for</span>( i <span class="keyword">in</span> <span class="number">2</span>:length(stocksdata)){
      ids &lt;- intersect(ids, as.character(index(stocksdata<span class="string">[[i]]</span>)))
    }
    <span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">1</span>:length(stocksdata)){
      stock = sprintf(<span class="string">'s%s'</span>,stocks[i])
      stocksdata<span class="string">[[stock]]</span> &lt;- stocksdata<span class="string">[[stock]]</span>[ids]
    }
  }  
  <span class="keyword">return</span>(stocksdata)
}

getMyStocksReturn &lt;- <span class="function"><span class="keyword">function</span><span class="params">(stocksdata)</span></span>{
  <span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">1</span>:length(stocksdata)){
    ret &lt;- diff(log(stocksdata<span class="string">[[i]]</span>[,<span class="number">6</span>]))
    <span class="keyword">if</span>( i == <span class="number">1</span>){
      stocksReturn &lt;- data.frame(ret)
    }<span class="keyword">else</span>{
      stocksReturn &lt;- cbind(stocksReturn, data.frame(ret))
    }
  }
  <span class="keyword">return</span>(stocksReturn[-<span class="number">1</span>,])
}

sdata &lt;- getMyStocksData(stocks) # stock data
sdata.ret &lt;- getMyStocksReturn(sdata) # stock returns
names(sdata.ret) &lt;- stockNames
</code></pre><p>执行上面代码，获取到股票收益率数据放到sdata.ret变量里面。查看如下：</p>
<pre><code>&gt; head(sdata.<span class="keyword">ret</span>)
                   腾讯         金山     中国移动     恒生指数     招商银行
<span class="number">2014</span>-<span class="number">06</span>-<span class="number">04</span> -<span class="number">0.025317487</span> -<span class="number">0.002195391</span> -<span class="number">0.009133588</span> -<span class="number">0.006000012</span>  <span class="number">0.004101002</span>
<span class="number">2014</span>-<span class="number">06</span>-<span class="number">05</span> -<span class="number">0.007352879</span>  <span class="number">0.008752791</span>  <span class="number">0.001307992</span> -<span class="number">0.001817966</span>  <span class="number">0.001363745</span>
<span class="number">2014</span>-<span class="number">06</span>-<span class="number">06</span> -<span class="number">0.001847162</span> -<span class="number">0.015368030</span> -<span class="number">0.009885919</span> -<span class="number">0.006889210</span>  <span class="number">0.000000000</span>
<span class="number">2014</span>-<span class="number">06</span>-<span class="number">09</span>  <span class="number">0.021938451</span> -<span class="number">0.006659292</span>  <span class="number">0.004630109</span>  <span class="number">0.007227130</span>  <span class="number">0.004078698</span>
<span class="number">2014</span>-<span class="number">06</span>-<span class="number">10</span>  <span class="number">0.025882656</span>  <span class="number">0.006659292</span>  <span class="number">0.011140788</span>  <span class="number">0.008540040</span>  <span class="number">0.010796124</span>
<span class="number">2014</span>-<span class="number">06</span>-<span class="number">11</span>  <span class="number">0.025230472</span>  <span class="number">0.019715863</span> -<span class="number">0.021079063</span> -<span class="number">0.002510088</span> -<span class="number">0.001342896</span>
</code></pre><h2 id="求解过程">求解过程</h2>
<p>根据前面的介绍我们知道是要求解min(f(x)) = ω‘∑ω - pw’μ， 0&lt;p&lt;1。通过调整p值，来获取有效前沿组合。</p>
<p>solve.QP 函数原型:  </p>
<pre><code>solve.QP(Dmat, dvec, Amat, bvec, <span class="variable">meq=</span><span class="number">0</span>, <span class="variable">factorized=</span>FALSE)
</code></pre><p>设置函数参数：</p>
<pre><code><span class="title">risk</span>.p &lt;- <span class="number">0.5</span>
<span class="type">Dmat</span> &lt;- cov(sdata.ret) # 风险资产协方差矩阵
<span class="title">dvec</span> &lt;- colMeans(sdata.ret) * risk.p # 指定风险水平下的期望收益率 
<span class="title">meq</span> &lt;- <span class="number">1</span>

<span class="preprocessor"># 约束条件: sum(x_i) = 1</span>
<span class="type">Amat</span> &lt;- matrix(<span class="number">1</span>, nrow=nrow(<span class="type">Dmat</span>))
<span class="title">bvec</span> &lt;- <span class="number">1</span>
</code></pre><p>运行代码:</p>
<pre><code><span class="input"><span class="prompt">&gt; ret &lt;- solve.QP(Dmat, dvec, Amat, bvec, meq)
&gt;</span> ret<span class="variable">$solution</span></span>
[<span class="number">1</span>]  <span class="number">2.5103945</span>  <span class="number">0</span>.<span class="number">2184375</span>  <span class="number">3.2731176</span> -<span class="number">7.0416422</span>  <span class="number">2.0396925</span>
</code></pre><p>从结果看出，有些权重小于0，而且还有大于1，所以我们还需要再添加一些约束条件：风险资产权重必须大于0且小于1。<br>修为约束为:</p>
<pre><code># 约束条件<span class="value">: <span class="function">sum</span>(x_i) = <span class="number">1</span> &amp; x_i &gt;= <span class="number">0</span>
Amat &lt;- <span class="function">cbind</span>(<span class="number">1</span>,<span class="function">diag</span>(<span class="function">nrow</span>(Dmat)))
bvec &lt;- <span class="function">c</span>(<span class="number">1</span>,<span class="function">rep</span>(<span class="number">0</span>,<span class="function">nrow</span>(Dmat)))</span>
</code></pre><p>运行结果：</p>
<pre><code><span class="input"><span class="prompt">&gt; ret &lt;- solve.QP(Dmat, dvec, Amat, bvec, meq)
&gt;</span> ret<span class="variable">$solution</span></span>
[<span class="number">1</span>] <span class="number">0</span>.<span class="number">0000000</span> <span class="number">0</span>.<span class="number">0000000</span> <span class="number">0</span>.<span class="number">2502792</span> <span class="number">0</span>.<span class="number">0000000</span> <span class="number">0</span>.<span class="number">7497208</span>
</code></pre><p>现在这个结果虽然符合上面的约束，但是权重过于集中，有些竟然达到74.9%，对我们来说可能风险过大，所以我们有必要再加一个约束：每个风险资产权重不超过30%比例。</p>
<p>然后我们通过调整p值，获取有效前沿，代码如下：</p>
<pre><code>j &lt;- <span class="number">0</span>
eq &lt;- <span class="keyword">vector</span>()
va &lt;- <span class="keyword">vector</span>()
<span class="keyword">for</span>( i <span class="keyword">in</span> seq(<span class="number">0</span>,<span class="number">1.0</span>,<span class="number">0.01</span>)){
  ret &lt;- solve.QP(Dmat, dvec<span class="variable">*i</span>, Amat, bvec, meq, factorized=FALSE)
  ret<span class="variable">$solution</span>[<span class="keyword">abs</span>(ret<span class="variable">$solution</span>) &lt;= <span class="number">1e-7</span>] &lt;- <span class="number">0</span>
  #<span class="keyword">print</span>(ret<span class="variable">$solution</span>)
  #<span class="keyword">print</span>(paste(t(dvec)<span class="variable">%*</span><span class="variable">%ret</span><span class="variable">$solution</span><span class="variable">*252</span>,<span class="keyword">sqrt</span>(t(ret<span class="variable">$solution</span>)<span class="variable">%*</span><span class="variable">%Dmat</span><span class="variable">%*</span><span class="variable">%ret</span><span class="variable">$solution</span><span class="variable">*252</span>)))
  eq[j] &lt;- t(dvec)<span class="variable">%*</span><span class="variable">%ret</span><span class="variable">$solution</span><span class="variable">*252</span>
  va[j] &lt;- <span class="keyword">sqrt</span>(t(ret<span class="variable">$solution</span>)<span class="variable">%*</span><span class="variable">%Dmat</span><span class="variable">%*</span><span class="variable">%ret</span><span class="variable">$solution</span><span class="variable">*252</span>)
  j = j+<span class="number">1</span>
}
eff &lt;- data.frame(eq=eq,va=va)
</code></pre><p>其中eff就是我们求得的有效前沿在“均值-方差”坐标系中的坐标位置。</p>
<h2 id="绘图展示">绘图展示</h2>
<p>利用ggplot绘图，展示eff曲线。</p>
<pre><code><span class="comment"># Color Scheme</span>
ealred  &lt;- <span class="string">"#7D110C"</span>
ealtan  &lt;- <span class="string">"#CDC4B6"</span>
eallighttan &lt;- <span class="string">"#F7F6F0"</span>
ealdark  &lt;- <span class="string">"#423C30"</span>
img &lt;- ggplot(eff, aes(<span class="variable">x=</span>va, <span class="variable">y=</span>eq)) + geom_point(<span class="variable">alpha=</span>.<span class="number">5</span>, <span class="variable">color=</span>ealdark) +
  geom_point(<span class="variable">data=</span>eff,aes(<span class="variable">x=</span>va[eq/<span class="variable">va=</span>=max(eq/va)],<span class="variable">y=</span>eq[eq/<span class="variable">va=</span>=max(eq/va)]),<span class="variable">color=</span>ealred,<span class="variable">size=</span><span class="number">3</span>) +
  geom_line(<span class="variable">data=</span>eff,aes(<span class="variable">x=</span>va,<span class="variable">y=</span>max(eq/va)*va),<span class="variable">color=</span>ealtan)+
  ggtitle(<span class="string">"Efficient Frontier\nand Optimal Portfolio"</span>) + labs(<span class="variable">x=</span><span class="string">"Risk (standard deviation of portfolio variance)"</span>, <span class="variable">y=</span><span class="string">"Return"</span>) +
  ggthemes::theme_wsj()
print(img)
</code></pre><p>图表展示:</p>
<p><img src="http://7xivxc.com1.z0.glb.clouddn.com/ef.png" alt=""></p>
<h2 id="完整代码">完整代码</h2>
<p>就到这吧，实在写不下去了。。。</p>
<pre><code><span class="title">library</span>(quadprog)
<span class="title">library</span>(ggplot2)
<span class="title">library</span>(ggthemes)

<span class="preprocessor">############### prepare stocks data begin</span>
<span class="title">library</span>(quantmod)
<span class="title">stocks</span> = c(<span class="string">"0700.hk"</span>, <span class="string">"3888.hk"</span>,<span class="string">"0941.hk"</span>,<span class="string">"^HSI"</span>,<span class="string">"3968.hk"</span>)
<span class="title">stockNames</span> = c(<span class="string">"腾讯"</span>,<span class="string">"金山"</span>,<span class="string">"中国移动"</span>,<span class="string">"恒生指数"</span>,<span class="string">"招商银行"</span>)

<span class="title">getMyStocksData</span> &lt;- function(stocks = c(<span class="string">""</span>)){
  stocksdata = list()
  for(i <span class="keyword">in</span> <span class="number">1</span>:length(stocks)){
    stock = sprintf('s%s',stocks[i])
    print(paste(<span class="string">"beigin get :"</span>, stock))
    stocksdata[[stock]] &lt;- getSymbols(stocks[i],from = <span class="string">"2014-06-01"</span>,to = <span class="type">Sys</span>.<span class="type">Date</span>(),src = <span class="string">"yahoo"</span>,auto.assign=<span class="type">FALSE</span>)
    print(paste(<span class="string">"end get :"</span>, stock))
  }
  # 对齐日期
  <span class="keyword">if</span>( length(stocksdata) &gt;= <span class="number">2</span>){
    ids &lt;- <span class="keyword">as</span>.character(index(stocksdata[[<span class="number">1</span>]]))
    for( i <span class="keyword">in</span> <span class="number">2</span>:length(stocksdata)){
      ids &lt;- intersect(ids, <span class="keyword">as</span>.character(index(stocksdata[[i]])))
    }
    for(i <span class="keyword">in</span> <span class="number">1</span>:length(stocksdata)){
      stock = sprintf('s%s',stocks[i])
      stocksdata[[stock]] &lt;- stocksdata[[stock]][ids]
    }
  }  
  return(stocksdata)
}

<span class="title">getMyStocksReturn</span> &lt;- function(stocksdata){
  for(i <span class="keyword">in</span> <span class="number">1</span>:length(stocksdata)){
    ret &lt;- diff(log(stocksdata[[i]][,<span class="number">6</span>]))
    <span class="keyword">if</span>( i == <span class="number">1</span>){
      stocksReturn &lt;- <span class="typedef"><span class="keyword">data</span>.frame<span class="container">(<span class="title">ret</span>)</span></span>
    }<span class="keyword">else</span>{
      stocksReturn &lt;- cbind(stocksReturn, <span class="typedef"><span class="keyword">data</span>.frame<span class="container">(<span class="title">ret</span>)</span>)</span>
    }
  }
  return(stocksReturn[-<span class="number">1</span>,])
}

<span class="title">sdata</span> &lt;- getMyStocksData(stocks) # stock <span class="typedef"><span class="keyword">data</span></span>
<span class="title">sdata</span>.ret &lt;- getMyStocksReturn(sdata) # stock returns
<span class="title">names</span>(sdata.ret) &lt;- stockNames

<span class="preprocessor">############### prepare stocks data end</span>


<span class="preprocessor"># min(-d^T b + 1/2 b^T D b)</span>
<span class="preprocessor"># constraints A^T b &gt;= b_0.</span>
<span class="preprocessor"># solve.QP(Dmat, dvec, Amat, bvec, meq=0, factorized=FALSE)</span>

<span class="title">risk</span>.p &lt;- <span class="number">0.5</span>
<span class="type">Dmat</span> &lt;- cov(sdata.ret)
<span class="title">dvec</span> &lt;- <span class="keyword">as</span>.vector(colMeans(sdata.ret))
<span class="title">meq</span> &lt;- <span class="number">1</span>

<span class="preprocessor"># Constraints: sum(x_i) = 1</span>
<span class="type">Amat</span> &lt;- matrix(<span class="number">1</span>,nrow=nrow(<span class="type">Dmat</span>))
<span class="title">bvec</span> &lt;- <span class="number">1</span>

<span class="preprocessor"># Constraints: sum(x_i) = 1 &amp; x_i &gt;= 0</span>
<span class="type">Amat</span> &lt;- cbind(<span class="number">1</span>,diag(nrow(<span class="type">Dmat</span>)))
<span class="title">bvec</span> &lt;- c(<span class="number">1</span>,rep(<span class="number">0</span>,nrow(<span class="type">Dmat</span>)))

<span class="preprocessor"># Constraints: sum(x_i) = 1 &amp; x_i &gt;= 0 &amp; x_i &lt;= 0.15</span>
<span class="preprocessor">#Amat &lt;- cbind(1,diag(nrow(Dmat)),-1 * diag(nrow(Dmat)))</span>
<span class="preprocessor">#bvec &lt;- c(1, rep(0, nrow(Dmat)), rep(-0.3, nrow(Dmat)))</span>

<span class="title">j</span> &lt;- <span class="number">0</span>
<span class="title">eq</span> &lt;- vector()
<span class="title">va</span> &lt;- vector()
<span class="title">for</span>( i <span class="keyword">in</span> seq(<span class="number">0</span>,<span class="number">1.0</span>,<span class="number">0.01</span>)){
  ret &lt;- solve.<span class="type">QP</span>(<span class="type">Dmat</span>, dvec*i, <span class="type">Amat</span>, bvec, meq, factorized=<span class="type">FALSE</span>)
  ret$solution[abs(ret$solution) &lt;= <span class="number">1e-7</span>] &lt;- <span class="number">0</span>
  #print(ret$solution)
  #print(paste(t(dvec)%*%ret$solution*<span class="number">252</span>,sqrt(t(ret$solution)%*%<span class="type">Dmat</span>%*%ret$solution*<span class="number">252</span>)))
  eq[j] &lt;- t(dvec)%*%ret$solution*<span class="number">252</span>
  va[j] &lt;- sqrt(t(ret$solution)%*%<span class="type">Dmat</span>%*%ret$solution*<span class="number">252</span>)
  j = j+<span class="number">1</span>
}
<span class="title">eff</span> &lt;- <span class="typedef"><span class="keyword">data</span>.frame<span class="container">(<span class="title">eq</span>=<span class="title">eq</span>,<span class="title">va</span>=<span class="title">va</span>)</span></span>

<span class="preprocessor"># Color Scheme</span>
<span class="title">ealred</span>  &lt;- <span class="string">"#7D110C"</span>
<span class="title">ealtan</span>  &lt;- <span class="string">"#CDC4B6"</span>
<span class="title">eallighttan</span> &lt;- <span class="string">"#F7F6F0"</span>
<span class="title">ealdark</span>  &lt;- <span class="string">"#423C30"</span>
<span class="title">img</span> &lt;- ggplot(eff, aes(x=va, y=eq)) + geom_point(alpha=<span class="number">.5</span>, color=ealdark) +
  geom_point(<span class="typedef"><span class="keyword">data</span>=eff,aes<span class="container">(<span class="title">x</span>=<span class="title">va</span>[<span class="title">eq</span>/<span class="title">va</span>==<span class="title">max</span>(<span class="title">eq</span>/<span class="title">va</span>)</span>],y=eq[eq/va==max<span class="container">(<span class="title">eq</span>/<span class="title">va</span>)</span>]),color=ealred,size=3) +</span>
  geom_line(<span class="typedef"><span class="keyword">data</span>=eff,aes<span class="container">(<span class="title">x</span>=<span class="title">va</span>,<span class="title">y</span>=<span class="title">max</span>(<span class="title">eq</span>/<span class="title">va</span>)</span>*va),color=ealtan)+</span>
  ggtitle(<span class="string">"Efficient Frontier"</span>) + 
  labs(x=<span class="string">"Risk"</span>, y=<span class="string">"Return"</span>) +
  ggthemes::theme_wsj()
<span class="title">print</span>(img)
</code></pre>
    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  

  <nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>

</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2015 <a href="/">billcamel</a>
  
</div>

<div class="clearfix"></div></footer>
  <script src="//ajax.useso.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'billcamel' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>